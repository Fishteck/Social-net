{"version":3,"sources":["components/Nav-menu/Nav-menu.module.css","components/Music/Music.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Nav-menu/FriendsList/FriendsList.module.css","Assets/images/preloader.svg","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Users/Users.module.css","components/Login/Login.module.css","utils/validators/validators.js","components/Music/Music.js","components/Music/index.js","redux/dialogs-reducer.js","components/Dialogs/DialogItem/index.js","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/index.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","components/hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.js","components/Nav-menu/FriendsList/index.js","components/Nav-menu/FriendsList/FriendsList.js","components/Nav-menu/Nav-menu.js","components/Nav-menu/NavmenuContainer.js","components/Friends/FriendsElement/index.js","components/Friends/FriendsElement/FriendsElement.js","components/Friends/FriendsBar/FriendsBar.js","components/Friends/Friends.js","api/api.js","redux/friends-reducer.js","components/Friends/FriendsContainer.js","utils/object-helpers.js","redux/users-reducer.js","components/Users/UserItem.js","components/common/Paginator/Paginator.js","components/Users/Users.js","components/common/Preloader/Preloader.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileLinks/ProfileLinks.js","components/Profile/ProfileInfo/ProfileData/ProfileData.js","components/common/FormsControls/FormsControl.js","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.js","components/Profile/ProfileInfo/ProfileInfo.js","redux/profile-reducer.js","components/Profile/MyPosts/Post/index.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","components/Header/Header.js","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/app-reducer.js","components/App/App.js","components/App/index.js","redux/navBar-reducer.js","redux/redux-store.js","index.js","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.module.css","components/Dialogs/Dialogs.module.css","components/common/Paginator/Paginator.module.css","components/Profile/MyPosts/Post/Post.module.css","Assets/images/avatar.png","components/Friends/FriendsElement/FriendsElement.module.css","components/common/FormsControls/FormsControls.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","components/Friends/FriendsBar/FriendsBar.module.css"],"names":["module","exports","menu","item","text","active","textMod","friendsList","music","dialogsItem","messagesItem","name","__webpack_require__","p","preloader","profileWall","infoImage","info","profileInfo","profileHeader","workT","workF","wrapper_description","description","links","items","twit","git","inst","editProfile","wrapper","about","usersContainer","ava","btn","btnFoll","btnUfoll","usersList","login","login__wrapper","header","inputs__item","inputs__dlc","check__text","btn__block","formError","maxLength","Music","react_default","a","createElement","className","s","initialState","messagesData","id","message","dialogsData","dialogsReducer","state","arguments","length","undefined","action","type","Object","objectSpread","concat","toConsumableArray","DialogItem","props","path","react_router_dom","to","Messages","MessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","btnMessage","Dialogs","dialogsPage","dialogsElements","map","d","Dialogs_DialogItem","key","messagesElement","m","Dialogs_Message","dialogs","dialogsList","messages","messageList","values","sendMessage","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","_React$Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","value","react_router","React","connect","compose","dispatch","FriendsList","NavMenu","friendsElement","f","Nav_menu_FriendsList","listItem","activeClassName","NavMenuContainer","navBar","friendsData","FriendsElement","_ref","followed","photos","objectWithoutProperties","friendsItem","img","src","userAvatar","alt","textBlock","FriendsBar","friendsBar","online","search","Friends","friendsElements","Friends_FriendsElement","small","friendsPage","Friends_FriendsBar_FriendsBar","instance","axios","baseURL","withCredentials","headers","API-KEY","usersAPI","getUsers","pageSize","currentPage","get","then","response","data","followUsers","post","unfollowUsers","delete","profileAPi","userId","status","put","photoFile","formData","FormData","append","Content-Type","profile","authAPI","email","password","rememberMe","friendsAPI","friendsReducer","FriendsContainer","addFriends","components_Friends_Friends","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","sent","stop","_x","updateObjectInArray","itemId","objPropName","newObjProps","u","usersData","totalCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","_ref2","_callee2","apiMethod","actionCreator","_context2","resultCode","_x2","_x3","_x4","_x5","userReducer","filter","UserItem","user","unfollow","follow","disabled","some","onClick","Paginator","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","selectedPage","Users","usersPage","elements","Users_UserItem","common_Paginator_Paginator","Preloader","getUserPage","getPageSize","getUserTotalCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","_this","Fragment","common_Preloader_Preloader","components_Users_Users","bind","ProfileStatusWithHooks","editMode","setEditMode","_useState3","_useState4","setStatus","useEffect","onDoubleClick","isOwner","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","ProfileLinks","contacts","keys","href","target","ProfileData","goToEditMode","fullName","ProfileStatus_ProfileStatusWithHooks","aboutMe","lookingForAJob","lookingForAJobDescription","ProfileInfo_ProfileLinks_ProfileLinks","Input","input","meta","hasError","touched","error","assign","InputProfile","inputsProfile","InputPost","_ref3","addNewPost","createField","validators","validate","ProfileDataReduxForm","Form","btnWrapper","wrapperName","check","wrapperAll","ProfileInfo","large","files","savePhoto","ProfileInfo_ProfileDataForm_ProfileDataForm","initialValues","saveProfile","ProfileInfo_ProfileData_ProfileData","postsData","like","getUserProfile","profileReducer","postText","Post","posts","btnLike","likes","btnComment","requiredField","maxLength60","MyPosts","memo","postsElements","MyPosts_Post","wall","postsHeader","newPost","PostsReduxForm","addPost","form__wrapper","MyPostsConContainer","profilePage","newPostText","Profile","Profile_ProfileInfo_ProfileInfo","MyPostsContainer","ProfileContainer","match","params","authorizedUserId","history","getUserStatus","refreshProfile","prevProps","prevState","snapshot","components_Profile_Profile","_callee3","_context3","file","_ref4","_callee4","_context4","_ref5","_callee5","getState","_context5","_x6","withRouter","Header","logo","login__block","logout","setAuthUserData","authorization","_data$data","authReducer","components_Header_Header","LoginReduxForm","inputs","stopSubmit","_error","initialized","appReducer","App","initializeApp","Header_HeaderContainer","NavmenuContainer","render","Profile_ProfileContainer","DialogsContainer","components_Music","Friends_FriendsContainer","Users_UsersContainer","components_Login_Login","app","promise","Promise","all","navBarReducer","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.8c79461a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Nav-menu_menu__3L28Q\",\"item\":\"Nav-menu_item__TRmzC\",\"text\":\"Nav-menu_text__1moLw\",\"active\":\"Nav-menu_active__pE0EZ\",\"textMod\":\"Nav-menu_textMod__2ZIPV\",\"friendsList\":\"Nav-menu_friendsList__Ay-Gm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__3aRuc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsItem\":\"DialogItem_dialogsItem__2l9oA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesItem\":\"Message_messagesItem__1dEDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"FriendsList_name__1BPJ0\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.126d0665.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2kiYz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWall\":\"Profile_profileWall__2HIIM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoImage\":\"ProfileInfo_infoImage__2MYjA\",\"info\":\"ProfileInfo_info__2Z1a8\",\"profileInfo\":\"ProfileInfo_profileInfo__2qPLI\",\"profileHeader\":\"ProfileInfo_profileHeader__1lNVn\",\"workT\":\"ProfileInfo_workT__1aHeN\",\"workF\":\"ProfileInfo_workF__T4LLt\",\"wrapper_description\":\"ProfileInfo_wrapper_description__24rTc\",\"description\":\"ProfileInfo_description__21j6x\",\"links\":\"ProfileInfo_links__3gErd\",\"items\":\"ProfileInfo_items__2gy0w\",\"twit\":\"ProfileInfo_twit__1ZaXs\",\"git\":\"ProfileInfo_git__3xjB-\",\"inst\":\"ProfileInfo_inst__30u4d\",\"editProfile\":\"ProfileInfo_editProfile__2AAKj\",\"wrapper\":\"ProfileInfo_wrapper__3-Zn2\",\"about\":\"ProfileInfo_about__UhIZ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"Users_usersContainer__1Zald\",\"ava\":\"Users_ava__1MOW0\",\"name\":\"Users_name__3DncU\",\"btn\":\"Users_btn__3cGDy\",\"btnFoll\":\"Users_btnFoll__261Tm\",\"btnUfoll\":\"Users_btnUfoll__25T7v\",\"usersList\":\"Users_usersList__1kpCl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__KI_eC\",\"login__wrapper\":\"Login_login__wrapper__1AK6g\",\"header\":\"Login_header__2hL0z\",\"inputs__item\":\"Login_inputs__item__3akre\",\"inputs__dlc\":\"Login_inputs__dlc__2ufvb\",\"check__text\":\"Login_check__text__1ZUyN\",\"btn__block\":\"Login_btn__block__2hTaf\",\"formError\":\"Login_formError__EH2pB\"};","export const requiredField = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required'\r\n};\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined\r\n};","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className={s.music}>\r\n            Not yet available :(\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Music;","import Music from \"./Music\";\r\n\r\nexport default Music;","const ADD_NEW_MESSAGE = 'ADD-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    messagesData : [\r\n        {id:1, message:'Hi'},\r\n        {id:3, message:'Yop'},\r\n        {id:4, message:'kek'},\r\n        {id:6, message:'pipi'},\r\n        {id:7, message:'piupiu'}\r\n    ],\r\n    dialogsData : [\r\n        {id:1, name:'Anna'},\r\n        {id:2, name:'Boris'},\r\n        {id:3, name:'Dasha'},\r\n        {id:4, name:'Robert'},\r\n        {id:5, name:'Sasha'},\r\n        {id:6, name:'Sveta'},\r\n        {id:7, name:'Valera'}\r\n    ],\r\n\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_NEW_MESSAGE:\r\n             return  {\r\n                 ...state,\r\n                 messagesData : [...state.messagesData, {id: 8, message: action.message}],\r\n\r\n             };\r\n\r\n        default : return state;\r\n    }\r\n};\r\n\r\n\r\nexport const sendMessage = (message) => ({ type : ADD_NEW_MESSAGE, message });\r\nexport default dialogsReducer;","import DialogItem from \"./DialogItem\";\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = `/dialogs/${props.id}`;\r\n    return (\r\n        <div className={s.dialogsItem}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DialogItem;","import Messages from \"./Message\";\r\n\r\nexport default Messages;","import React from 'react';\r\nimport s from './Message.module.css'\r\n\r\nconst Messages = (props) => {\r\n    return (\r\n\r\n            <div className={s.messagesItem}>{props.message}</div>\r\n\r\n    );\r\n};\r\n\r\nexport default Messages;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem\";\r\nimport Messages from \"./Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogsData.map(d => <DialogItem id={d.id} name={d.name} key={d.id}/>);\r\n    let messagesElement = state.messagesData.map(m => <Messages id={m.id} message={m.message} key={m.id}/>);\r\n\r\n    const addNewMessage = (values) => {\r\n        props.sendMessage(values.message);\r\n    };\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsList}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div className={s.messageList}>\r\n                    {messagesElement}\r\n                </div>\r\n                <MessageReduxForm state={state}\r\n                                  onSubmit={addNewMessage}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst MessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.text}>\r\n                <Field name='message'\r\n                       component='input'\r\n                       type=\"text\"\r\n                       placeholder='Type your message...'\r\n                />\r\n            </div>\r\n            <button className={s.btnMessage}>Send</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst MessageReduxForm = reduxForm({\r\n    form: 'message'\r\n})(MessageForm);\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/Login'} />;\r\n\r\n            return <Component{...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n};","import {sendMessage} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage : state.dialogsPage,\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage : (message) => {\r\n            dispatch(sendMessage(message))\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);","import FriendsList from \"./FriendsList\";\r\n\r\nexport default FriendsList;","import React from 'react'\r\nimport s from './FriendsList.module.css'\r\n\r\nconst FriendsList = (props) => {\r\n\r\n  return (\r\n        <div className={s.name} >{props.name}</div>\r\n  );\r\n};\r\n\r\nexport default FriendsList;","import React from 'react';\r\nimport s from './Nav-menu.module.css';\r\nimport FriendsList from \"./FriendsList\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavMenu = (props) => {\r\n\r\n    let friendsElement = props.friendsList.map(f => <FriendsList name={f.name} key={f.id} id={f.id} />);\r\n    \r\n    return (\r\n        <nav className={s.menu}>\r\n            <ul className={s.listItem}>\r\n              <li className={s.item}>\r\n                  <NavLink to=\"/Profile\" className={s.text} activeClassName={s.active}>Profile</NavLink>\r\n              </li>\r\n              <li className={s.item}>\r\n                  <NavLink to=\"/Dialogs\" className={s.text} activeClassName={s.active}>Messages</NavLink>\r\n              </li>\r\n              <li className={s.item}>\r\n                  <NavLink to=\"/News\" className={s.text} activeClassName={s.active}>News</NavLink>\r\n              </li>\r\n              <li className={s.item}>\r\n                  <NavLink to=\"/Music\" className={s.text} activeClassName={s.active}>Music</NavLink>\r\n              </li>\r\n              <li className={s.item}>\r\n                  <NavLink to=\"/Settings\" className={s.text} activeClassName={s.active}>Settings</NavLink>\r\n              </li>\r\n                <li className={s.item}>\r\n                    <NavLink to=\"/Friends\" className={`${s.text} ${s.textMod}`} activeClassName={s.active}>Friends</NavLink>\r\n                    <div className={s.friendsList}>\r\n                    { friendsElement }\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n          </nav>\r\n    );\r\n};\r\n\r\nexport default NavMenu;","import {connect} from \"react-redux\";\r\nimport NavMenu from \"./Nav-menu\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friendsList : state.navBar.friendsData\r\n    };\r\n};\r\n\r\nconst NavMenuContainer = connect (mapStateToProps) (NavMenu);\r\n\r\nexport default NavMenuContainer;","import FriendsElement from './FriendsElement';\r\n\r\nexport default FriendsElement;","import React from 'react';\r\nimport s from './FriendsElement.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userAvatar from \"../../../Assets/images/avatar.png\";\r\n\r\nconst FriendsElement = ({followed,id,photos, ...props}) => {\r\n    return (\r\n        followed\r\n            ? <div className={s.friendsItem}>\r\n                <div className={s.img}> <NavLink to={'/Profile/' + id}>\r\n                    <img src={photos != null ? photos : userAvatar}\r\n                         alt=\"avatar\"\r\n                         className={s.ava}\r\n                    />\r\n                </NavLink>\r\n                </div>\r\n                <div className={s.textBlock}>\r\n                    <div className={s.name} id={props.id}>{props.name}</div>\r\n                    <NavLink to=\"/Dialogs\">Write message...</NavLink>\r\n                </div>\r\n              </div>\r\n            : null\r\n\r\n)\r\n    ;\r\n};\r\n\r\nexport default FriendsElement;","import React from 'react';\r\nimport s from './FriendsBar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst FriendsBar = (props) => {\r\n\r\n    return (\r\n\r\n        <div className={s.friendsBar}>\r\n            <div className={s.online}><p>Friends online : <span>0</span></p></div>\r\n            <div className={s.search}>\r\n                <NavLink to='/Users'> <button className={s.btn}>Find users</button></NavLink>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\n\r\nexport default FriendsBar;","import React from 'react';\r\nimport s from './Friends.module.css';\r\nimport FriendsElement from './FriendsElement';\r\nimport FriendsBar from \"./FriendsBar/FriendsBar\";\r\n\r\n\r\nconst Friends = (props) => {\r\n\r\n    let friendsElements = props.friendsList.map(f => <FriendsElement name={f.name}\r\n                                                                     id={f.id}\r\n                                                                     key={f.id}\r\n                                                                     followed={f.followed}\r\n                                                                     photos={f.photos.small}\r\n\r\n    />);\r\n\r\n    return (\r\n\r\n        <div className={s.friendsPage}>\r\n            <FriendsBar />\r\n            {friendsElements}\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\n\r\nexport default Friends;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL : 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers : {\r\n        'API-KEY' : '209e1589-c8e1-4114-9e39-f42219060211'\r\n    }\r\n\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageSize = 20, currentPage = 1) {\r\n        return  instance.get(`users?count=${pageSize}&&page=${currentPage}`).then(response => response.data)\r\n    },\r\n   followUsers(id)  {\r\n        return instance.post(`follow/${id}`).then(response => response.data)\r\n   },\r\n    unfollowUsers(id) {\r\n        return instance.delete(`follow/${id}`).then(response => response.data)\r\n    },\r\n\r\n};\r\n\r\nexport const profileAPi = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`).then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`).then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status}).then(response => response.data);\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers : {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        }).then(response => response.data);\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile).then(response => response.data);\r\n    }\r\n\r\n};\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return instance.get('auth/me').then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe}).then(response => response.data);\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login').then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const friendsAPI = {\r\n    getUsers() {\r\n        return  instance.get(`users?count=100`).then(response => response.data)\r\n    }\r\n};\r\n\r\n\r\n\r\n","import {friendsAPI} from \"../api/api\";\r\n\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\n\r\nlet initialState = {\r\n    friendsList: [],\r\n};\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_FRIENDS : {\r\n            return {\r\n                ...state,\r\n                friendsList: action.friendsList\r\n            }\r\n        }\r\n\r\n        default : {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport const setFriends = (friendsList) => ({type : SET_FRIENDS, friendsList});\r\n\r\nexport const addFriends = () => async (dispatch) => {\r\n    let data = await friendsAPI.getUsers();\r\n        dispatch(setFriends(data.items));\r\n};\r\n\r\nexport default friendsReducer;","import {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport React from \"react\";\r\nimport {addFriends} from \"../../redux/friends-reducer\";\r\n\r\nexport class FriendsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.addFriends();\r\n    }\r\n\r\n    render () {\r\n        return <Friends {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friendsList : state.friendsPage.friendsList\r\n    };\r\n};\r\n\r\n\r\nexport default compose(withAuthRedirect,connect(mapStateToProps, {addFriends}))(FriendsContainer)","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\n             // ACTIONS\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    usersData : [],\r\n    pageSize : 8,\r\n    totalCount : 1,\r\n    currentPage : 1,\r\n    isFetching : false,\r\n    followingInProgress : []\r\n};\r\n\r\n                // REDUCER\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOW :\r\n\r\n            return  {\r\n                ...state,\r\n                usersData : updateObjectInArray(state.usersData, action.userId,'id', {followed : true})\r\n            };\r\n\r\n        case UNFOLLOW :\r\n            return {\r\n                ...state,\r\n                usersData : updateObjectInArray(state.usersData, action.userId,'id', {followed : false})\r\n            };\r\n\r\n        case SET_USERS : {\r\n            return {\r\n              ...state, usersData : action.usersData\r\n            }\r\n        }\r\n\r\n        case SET_CURRENT_PAGE : {\r\n            return {\r\n                ...state,\r\n                currentPage : action.currentPage\r\n            }\r\n        }\r\n\r\n        case SET_USERS_TOTAL_COUNT : {\r\n            return {\r\n                ...state,\r\n                totalCount : action.totalCount\r\n            }\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING : {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS : {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [state.followingInProgress, action.id]\r\n                    : state.followingInProgress.filter(id => id !== action.id)\r\n            }\r\n        }\r\n        default :\r\n            return state;\r\n\r\n    }\r\n};\r\n\r\n                // ACTION CREATORS\r\n\r\nexport const followSuccess = (userId) => ({type : FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type : UNFOLLOW, userId});\r\nexport const setUsers = (usersData) => ({type : SET_USERS, usersData});\r\nexport const setCurrentPage = (currentPage) => ({type : SET_CURRENT_PAGE, currentPage});\r\nexport const setUsersTotalCount = (totalCount) => ({type : SET_USERS_TOTAL_COUNT, totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type : TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, id) => ({type : TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, id});\r\n\r\n                // THUNK\r\n\r\nexport const getUsers = (pageSize, currentPage) => async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage));\r\n        let data = await usersAPI.getUsers(pageSize, currentPage);\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setUsersTotalCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n    let data = await apiMethod(id);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(id));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, id));\r\n};\r\n\r\nexport const follow = (id) => (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, usersAPI.followUsers.bind(usersAPI), followSuccess);\r\n};\r\n\r\nexport const unfollow = (id) => (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, usersAPI.unfollowUsers.bind(usersAPI), unfollowSuccess);\r\n};\r\n\r\n\r\nexport default userReducer;","import React from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport userAvatar from \"../../Assets/images/avatar.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst UserItem = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.usersList} id={user.id} key={user.id}>\r\n                <NavLink to={'/Profile/' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userAvatar}\r\n                         alt=\"avatar\"\r\n                         className={s.ava}\r\n                    />\r\n                </NavLink>\r\n                <div className={s.wrapper}>\r\n                    <div className={s.info}>\r\n                        <div className={s.name}>{user.name}</div>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      className={`${s.btn} ${s.btnUfoll}`}\r\n                                      onClick={() => {\r\n                                          unfollow(user.id)\r\n                                      }}>Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      className={`${s.btn} ${s.btnFoll}`}\r\n                                      onClick={() => {\r\n                                          follow(user.id)\r\n                                      }}>Follow</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default UserItem;","import React, {useState} from 'react';\r\nimport s from './Paginator.module.css';\r\n\r\nconst Paginator = ({totalCount, pageSize, currentPage, onPageChanged, portionSize = 5}) => {\r\n\r\n    let pagesCount = Math.ceil(totalCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/ portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 2 &&\r\n        <button className={s.btn} onClick={() => setPortionNumber(portionNumber = 1)}>Start</button>}\r\n            {portionNumber > 1 &&\r\n            <button className={s.btn} onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button>}\r\n            {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map(p => {\r\n                        return <div>\r\n                            <span className={currentPage === p && s.selectedPage}\r\n                                  onClick={() => {\r\n                                      onPageChanged(p)\r\n                                  }}>\r\n                        {p}\r\n                        </span>\r\n                        </div>\r\n                })\r\n            }\r\n            {portionCount > portionNumber &&\r\n            <button className={s.btn} onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>}\r\n            {portionCount > portionNumber + 1 &&\r\n            <button className={s.btn} onClick={() => setPortionNumber(portionNumber = portionCount)}>End</button>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport UserItem from \"./UserItem\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\n\r\nconst Users = ({usersPage, followingInProgress, follow, unfollow, currentPage, onPageChanged, pageSize, totalCount}) => {\r\n\r\n    const elements = usersPage.map(u => <UserItem user={u}\r\n                                                        followingInProgress={followingInProgress}\r\n                                                        unfollow={unfollow} follow={follow}\r\n    />);\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage}\r\n                       onPageChanged={onPageChanged}\r\n                       pageSize={pageSize}\r\n                       totalCount={totalCount}/>\r\n            <div className={s.usersContainer}>\r\n\r\n                {elements}\r\n\r\n            </div>\r\n        </div>)\r\n};\r\n\r\nexport default Users;","import preloader from \"../../../Assets/images/preloader.svg\";\r\nimport React from \"react\";\r\nimport s from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div className={s.preloader}>\r\n            <img src={preloader} alt=\"Loading...\"/>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Preloader;","export const getUserPage = (state) => {\r\n  return  state.usersPage.usersData\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n  return  state.usersPage.pageSize\r\n};\r\n\r\nexport const getUserTotalCount = (state) => {\r\n  return  state.usersPage.totalCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return  state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return  state.usersPage.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return  state.usersPage.followingInProgress\r\n};","import {connect} from \"react-redux\";\r\nimport {\r\n    follow, getUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport React from 'react';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getUserPage,\r\n    getUserTotalCount\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize, this.props.currentPage);\r\n    };\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(this.props.pageSize, pageNumber );\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users currentPage={this.props.currentPage}\r\n                   totalCount={this.props.totalCount}\r\n                   pageSize={this.props.pageSize}\r\n                   usersPage={this.props.usersPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        usersPage: getUserPage(state),\r\n        pageSize: getPageSize(state),\r\n        totalCount: getUserTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress : getFollowingInProgress(state)\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    getUsers})(UsersContainer);\r\n\r\n","import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n   const activateEditMode = () => {\r\n       setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n            setStatus(e.currentTarget.value);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={props.isOwner ? activateEditMode : null}>{props.status || 'No status'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input type=\"text\"\r\n                       autoFocus={true}\r\n                       onBlur={deactivateEditMode}\r\n                       value={status}\r\n                       onChange={onStatusChange}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from \"../ProfileInfo.module.css\";\r\n\r\n\r\nconst ProfileLinks = ({contacts}) => {\r\n    const items = Object.keys(contacts).map(key => {\r\n         if (contacts[key] === null) {\r\n            return null\r\n        } else {\r\n        return <a href={contacts[key]} key={key} className={s.items} target=\"_blank\">\r\n           {key}\r\n        </a>}\r\n\r\n    });\r\n    return (\r\n        <div className={s.links}>\r\n\r\n            <p>Сontacts :</p>\r\n            {items}\r\n            {/*<a href={contacts.facebook} className={s.items}>*/}\r\n            {/*    <i className=\"fa fa-facebook-square\"></i>*/}\r\n            {/*</a>*/}\r\n            {/*<a href={contacts.vk} className={s.items}>*/}\r\n            {/*    <i className=\"fa fa-vk\"></i>*/}\r\n            {/*</a>*/}\r\n            {/*<a href={contacts.twitter} className={`${s.items} ${s.twit}`}>*/}\r\n            {/*    <i className=\"fa fa-twitter-square\"></i>*/}\r\n            {/*</a>*/}\r\n            {/*<a href={contacts.instagram} className={`${s.items} ${s.inst}`}>*/}\r\n            {/*    <i className=\"fa fa-instagram\"></i>*/}\r\n            {/*</a>*/}\r\n            {/*<a href={contacts.github} className={`${s.items} ${s.git}`}>*/}\r\n            {/*    <i className=\"fa fa-github-square\"></i>*/}\r\n            {/*</a>*/}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileLinks;","import React from 'react';\r\nimport s from \"../ProfileInfo.module.css\";\r\nimport ProfileStatusWithHooks from \"../ProfileStatus/ProfileStatusWithHooks\";\r\nimport ProfileLinks from \"../ProfileLinks/ProfileLinks\";\r\n\r\nconst ProfileData = (props) => {\r\n    return (\r\n        <div className={s.wrapper}>\r\n            {props.isOwner && <div><button className={s.editProfile} onClick={props.goToEditMode}>Edit profile</button></div>}\r\n            <h3 className={s.profileHeader}>{props.profile.fullName}</h3>\r\n            <ProfileStatusWithHooks status={props.status}\r\n                                    updateStatus={props.updateStatus}\r\n                                    isOwner={props.isOwner}\r\n            />\r\n            <div>\r\n                <h4 className={s.about}>About me :</h4>\r\n                <p>{props.profile.aboutMe}</p>\r\n            </div>\r\n            {props.profile.lookingForAJob\r\n                ? <div className={s.workT}>Looking for a job</div>\r\n                : <div className={s.workF}>Already working</div>\r\n            }\r\n            <div className={s.wrapper_description}>\r\n                <h4 className={s.description}>{props.profile.lookingForAJobDescription || 'No description'}</h4>\r\n            </div>\r\n            <ProfileLinks {...props.profile}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileData;","import React from \"react\";\r\nimport s from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.wrapper + ' ' + (hasError ? s.error : '')}>\r\n            <input {...input} {...props} className={s.inputs__item}/>\r\n            {hasError && <span>Field is required</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const InputProfile = ({input, ...props}) => {\r\n    return (\r\n        <input {...input} {...props} className={s.inputsProfile}/>\r\n\r\n    )\r\n};\r\n\r\nexport const InputPost = ({input, meta, ...props}) => {\r\n    return (\r\n        <input className={s.addNewPost}\r\n               type=\"text\"\r\n               placeholder='This is my new post...'{...input} {...props}/>\r\n    )\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => {\r\n    return (\r\n        <div>\r\n            <Field placeholder={placeholder}\r\n                   name={name}\r\n                   validate={validators}\r\n                   component={component}\r\n                   {...props}/> {text}\r\n        </div>\r\n    )\r\n};","import React from 'react';\r\nimport s from './ProfileDataForm.module.css';\r\nimport {Form, reduxForm} from \"redux-form\";\r\nimport {createField,InputProfile} from \"../../../common/FormsControls/FormsControl\";\r\n\r\n\r\nconst ProfileDataForm = (props) => {\r\n    return (\r\n        <Form onSubmit={props.handleSubmit}>\r\n            <div className={s.btnWrapper}>\r\n                <button className={s.btn}>Save changes</button>\r\n            </div>\r\n            <div className={s.wrapperName}>\r\n                <b>Full name:</b>\r\n                {createField('fullName', 'fullName', [], InputProfile)}\r\n            </div>\r\n            <div className={s.wrapperName }>\r\n                <b>Looking For A Job :</b>\r\n                <div className={s.check}>\r\n                    {createField('', 'lookingForAJob', [], 'input', {type: 'checkbox'})}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <b>lookingForAJobDescription : </b>\r\n                <div className={s.wrapperAll}>\r\n                    {createField('lookingForAJobDescription me', 'lookingForAJobDescription', [], InputProfile)}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <b>About me : </b>\r\n                <div className={s.wrapperAll}>\r\n                    {createField('About me', 'aboutMe', [], InputProfile)}\r\n                </div>\r\n            </div>\r\n            {Object.keys(props.contacts).map(key => {\r\n                return <div>\r\n                    <b>{key} : </b>\r\n                    <div className={s.wrapperAll}>\r\n                        {createField(key, 'contacts.' + key, [], InputProfile)}\r\n                    </div>\r\n                </div>\r\n        })}\r\n\r\n        </Form>\r\n    )\r\n};\r\n\r\nconst ProfileDataReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm;","import React, {useState} from 'react';\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport userAvatar from \"../../../Assets/images/avatar.png\";\r\nimport ProfileData from \"./ProfileData/ProfileData\";\r\nimport ProfileDataForm from \"./ProfileDataForm/ProfileDataForm\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoChange = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const onSubmit = (formData) => {\r\n      props.saveProfile(formData);\r\n        setEditMode(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.info}>\r\n                <div className={s.infoImage}>\r\n                    <img src={props.profile.photos.large != null ? props.profile.photos.large : userAvatar} alt=\"\"/>\r\n                    {props.isOwner && <input type={'file'} onChange={onMainPhotoChange}/>}\r\n                </div>\r\n                <div className={s.profileInfo}>\r\n                    {editMode\r\n                        ? <ProfileDataForm initialValues={props.profile} {...props.profile} onSubmit={onSubmit}/>\r\n                        : <ProfileData goToEditMode={() => {setEditMode(true)}} {...props}/>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default ProfileInfo;\r\n\r\n/*<img src=\"http://s39.radikal.ru/i084/0911/0d/9f8ce6242fe2.jpg\" alt=\"\"/>*/\r\n","import {profileAPi} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SET_PHOTO = 'SET_PHOTO';\r\n\r\nlet initialState = {\r\n    postsData : [\r\n        {id:1, message:'Hi!This is my first post', like:3},\r\n        {id:2, message:'React is cool!', like:7},\r\n        {id:3, message:'So funny...', like:2},\r\n        {id:4, message:'I love cats', like:5}\r\n    ],\r\n    profile : null,\r\n    status : ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST : {\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, {id: 6, message: action.postText, like: 0}],\r\n            };\r\n        }\r\n\r\n\r\n        case SET_USER_PROFILE : {\r\n            return {\r\n                ...state,\r\n                profile : action.profile\r\n            }\r\n        }\r\n\r\n        case SET_STATUS : {\r\n            return {\r\n                ...state,\r\n                status : action.status\r\n            }\r\n        }\r\n\r\n        case SET_PHOTO : {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n\r\n        default : return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (postText) => ({ type : ADD_POST, postText });\r\nexport const setUserProfile = (profile) => ({ type : SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type : SET_STATUS, status});\r\nexport const savePhotoSuccess = (photos) => ({type : SET_PHOTO, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n        let data = await profileAPi.getProfile(userId);\r\n            dispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let data = await profileAPi.getStatus(userId);\r\n     dispatch(setStatus(data))\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let data = await profileAPi.updateStatus(status);\r\n        if (data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let data = await profileAPi.savePhoto(file);\r\n        if (data.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(data.data.photos))\r\n        }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.id;\r\n    let data = await profileAPi.saveProfile(profile);\r\n    if (data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n    }\r\n};\r\n\r\nexport default profileReducer;","import Post from \"./Post\";\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\r\n    return (\r\n        <div className={s.item}>\r\n            <p className={s.text}>{props.message}</p>\r\n            <div className={s.posts}>\r\n                <button className={s.btnLike}><i className=\"fa fa-heart\"></i> </button>\r\n                <span className={s.likes}>{props.like}</span>\r\n                <button className={s.btnComment}><i className=\"fa fa-comments\"></i></button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from \"./Post\";\r\nimport  s from './MyPosts.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator} from \"../../../utils/validators/validators\";\r\nimport {InputPost} from \"../../common/FormsControls/FormsControl\";\r\n\r\nconst maxLength60 = maxLengthCreator(60);\r\n\r\nconst MyPosts = React.memo( (props) => {\r\n\r\n    let postsElements = props.posts.map(p =>\r\n            <Post id={p.id} message={p.message} like={p.like} key={p.id}/>\r\n        );\r\n\r\n\r\n    const AddPost = (value) => {\r\n            props.addPost(value.postText);\r\n    };\r\n\r\n    return (\r\n        <div className={s.wall}>\r\n            <h2 className={s.postsHeader}>My Posts</h2>\r\n            <div className={s.newPost}>\r\n                <PostsReduxForm onSubmit={AddPost}/>\r\n            </div>\r\n            { postsElements }\r\n        </div>\r\n    );\r\n});\r\n\r\nconst PostForm = (props) => {\r\n  return (\r\n      <form onSubmit={props.handleSubmit} className={s.form__wrapper}>\r\n          <Field name='postText'\r\n                 component={InputPost}\r\n                 validate={[maxLength60]}\r\n          />\r\n          <button className={s.btn}>Add post</button>\r\n      </form>\r\n  )\r\n};\r\n\r\nconst PostsReduxForm = reduxForm ({\r\n    form : 'posts'\r\n})(PostForm);\r\n\r\nexport default MyPosts;","import {addPost} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts : state.profilePage.postsData,\r\n        newPostText : state.profilePage.newPostText\r\n    };\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost : (postText) => {\r\n            dispatch(addPost(postText))\r\n        }\r\n    };\r\n};\r\n\r\n\r\nconst MyPostsConContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\r\n\r\nexport default MyPostsConContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport s from './Profile.module.css';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\r\n\r\n    return (\r\n        <div className={s.profileWall}>\r\n            <ProfileInfo profile={profile}\r\n                         status={status}\r\n                         updateStatus={updateStatus}\r\n                         isOwner={isOwner}\r\n                         savePhoto={savePhoto}\r\n                         saveProfile={saveProfile}\r\n                         />\r\n            <MyPostsContainer />\r\n          </div>\r\n    );\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component{\r\n\r\n    refreshProfile () {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/Login');\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile { ...this.props } profile={this.props.profile}\r\n                                          status={this.props.status}\r\n                                          updateStatus={this.props.updateStatus}\r\n                                          isOwner={!this.props.match.params.userId}\r\n                                          savePhoto={this.props.savePhoto}\r\n                                          saveProfile={this.props.saveProfile}\r\n        />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile : state.profilePage.profile,\r\n        status : state.profilePage.status,\r\n        authorizedUserId : state.auth.id,\r\n        isAuth : state.auth.isAuth\r\n    }\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter)(ProfileContainer);\r\n\r\n","import React from 'react';\r\nimport s from  './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <NavLink to='/Profile'><div className={s.logo}>SocNet</div></NavLink>\r\n            <div className={s.login__block}>\r\n                {props.isAuth\r\n                 ? <div>\r\n                        <p className={s.login}>{props.login}</p>\r\n                        <p onClick={props.logout} className={s.logout}>Logout</p>\r\n                  </div>\r\n                 :  <NavLink to='/Login'>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n\r\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA : {\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        }\r\n        default :\r\n            return state\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({type : SET_USER_DATA, data : {id, email, login, isAuth}});\r\n\r\nexport const authorization = () => (dispatch) => {\r\n        return authAPI.authMe().then(data => {\r\n            if (data.resultCode === 0) {\r\n                let {id, email, login} = data.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n        });\r\n};\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n        authAPI.login(email, password, rememberMe).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(authorization());\r\n            } else {\r\n                let message = data.messages.length > 0 ? data.messages[0] : 'Some error';\r\n                dispatch(stopSubmit('login', {_error : message}));\r\n            }\r\n        });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n        authAPI.logout().then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            }\r\n        });\r\n};\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nfunction HeaderContainer(props) {\r\n    return (\r\n        <Header {...props}/>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login : state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout} )(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport s from './Login.module.css';\r\nimport {Input} from \"../common/FormsControls/FormsControl\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n       props.login(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to='/Profile'/>\r\n    }\r\n    return (\r\n        <div className={s.login}>\r\n            <div className={s.login__wrapper}>\r\n                <h1 className={s.header}>Login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div className={s.inputs}>\r\n                    <Field type=\"text\"\r\n                           placeholder={'Email'}\r\n                           component={Input}\r\n                           name={'email'}\r\n                           className={s.inputs__item}\r\n                           validate={[requiredField]}\r\n\r\n                    />\r\n                    <Field type=\"password\"\r\n                           placeholder={'Password'}\r\n                           component={Input}\r\n                           name={'password'}\r\n                           className={s.inputs__item}\r\n                           validate={[requiredField]}\r\n                    />\r\n                </div>\r\n\r\n                <div className={s.inputs__dlc}>\r\n                    <div className=\"\">\r\n                        <Field type=\"checkbox\"\r\n                               component={'input'}\r\n                               name={'rememberMe'}\r\n                               className={s.check}\r\n                        />\r\n                        <p className={s.check__text}>Remember me</p>\r\n                    </div>\r\n                    {props.error && <div className={s.formError}>{props.error}</div>}\r\n                    <div className={s.btn__block}>\r\n                        <button>Login</button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </form>\r\n\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm ({\r\n    form : 'login'\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      isAuth : state.auth.isAuth\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {authorization} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized : false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS : {\r\n            return {\r\n                ...state,\r\n                initialized : true\r\n            }\r\n        }\r\n        default :\r\n            return state\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type : INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(authorization());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\nexport default appReducer;","import React, {Component} from 'react';\nimport {Route, withRouter} from \"react-router-dom\";\nimport './App.css';\nimport Music from \"../Music\";\nimport DialogsContainer from \"../Dialogs/DialogsContainer\";\nimport NavMenuContainer from \"../Nav-menu/NavmenuContainer\";\nimport FriendsContainer from \"../Friends/FriendsContainer\";\nimport UsersContainer from \"../Users/UsersContainer\";\nimport ProfileContainer from \"../Profile/ProfileContainer\";\nimport HeaderContainer from \"../Header/HeaderContainer\";\nimport Login from \"../Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"../../redux/app-reducer\";\nimport Preloader from \"../common/Preloader/Preloader\";\n\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    };\n\n    render() {\n\n        if (!this.props.initialized) {\n            return  <Preloader/>\n        }\n\n        return (\n                <div className=\"app__wrapper\">\n                    <HeaderContainer/>\n                    <NavMenuContainer/>\n                    <div className=\"app__wrapper__content\">\n                        <Route path=\"/Profile/:userId?\" render={() => <ProfileContainer/>}/>\n                        <Route path=\"/Dialogs\" render={() => <DialogsContainer/>}/>\n                        <Route path=\"/News\" render={() => <Music/>}/>\n                        <Route path=\"/Music\" render={() => <Music/>}/>\n                        <Route path=\"/Settings\" render={() => <Music/>}/>\n                        <Route path=\"/Friends\" render={() => <FriendsContainer/>}/>\n                        <Route path=\"/Users\" render={() => <UsersContainer/>}/>\n                        <Route path=\"/Login\" render={() => <Login/>}/>\n                    </div>\n                </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        initialized : state.app.initialized\n    }\n};\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp} ))(App);\n\n","import App from './App';\r\n\r\nexport default App;","let initialState = {\r\n    friendsData : [\r\n        {name : 'no name 1', id :1},\r\n        {name : 'no name 2', id :2},\r\n        {name : 'no name 3', id :3}\r\n    ]\r\n};\r\n\r\nconst navBarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n};\r\n\r\nexport default navBarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport navBarReducer from \"./navBar-reducer\";\r\nimport friendsReducer from \"./friends-reducer\";\r\nimport userReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    friendsPage : friendsReducer,\r\n    usersPage : userReducer,\r\n    navBar : navBarReducer,\r\n    auth : authReducer,\r\n    form : formReducer,\r\n    app : appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>, document.getElementById('root')\n);\n\n\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperName\":\"ProfileDataForm_wrapperName__2WqrI\",\"check\":\"ProfileDataForm_check__abxUv\",\"wrapperAll\":\"ProfileDataForm_wrapperAll__1zbcJ\",\"btn\":\"ProfileDataForm_btn__3RIMQ\",\"btnWrapper\":\"ProfileDataForm_btnWrapper__3sy9V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__LFV1y\",\"messages\":\"Dialogs_messages__2W0AS\",\"messageList\":\"Dialogs_messageList__2dz1e\",\"text\":\"Dialogs_text__2tNMx\",\"btnMessage\":\"Dialogs_btnMessage__3QhMw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1YXDE\",\"btn\":\"Paginator_btn__zgI0K\",\"selectedPage\":\"Paginator_selectedPage__3nGuI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__Fm3-D\",\"posts\":\"Post_posts__13tbh\",\"text\":\"Post_text__21gOz\",\"likes\":\"Post_likes__bgNae\",\"btnLike\":\"Post_btnLike__1RTz7\",\"btnComment\":\"Post_btnComment__2Ntt9\"};","module.exports = __webpack_public_path__ + \"static/media/avatar.fc047347.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsItem\":\"FriendsElement_friendsItem__2gnK7\",\"img\":\"FriendsElement_img__35sxm\",\"name\":\"FriendsElement_name__3k5Mn\",\"textBlock\":\"FriendsElement_textBlock__2uJ4M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputs__item\":\"FormsControls_inputs__item__M-QLw\",\"wrapper\":\"FormsControls_wrapper__b6Hkk\",\"error\":\"FormsControls_error__1M311\",\"addNewPost\":\"FormsControls_addNewPost__3Cddx\",\"inputsProfile\":\"FormsControls_inputsProfile__t_jBj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPost\":\"MyPosts_newPost__2Kht7\",\"form__wrapper\":\"MyPosts_form__wrapper__2gQZC\",\"postsHeader\":\"MyPosts_postsHeader__fmK2D\",\"btn\":\"MyPosts_btn__y58Hs\",\"addNewPost\":\"MyPosts_addNewPost__dCIhH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Omr0\",\"logo\":\"Header_logo__RwvWl\",\"login__block\":\"Header_login__block__3O1UE\",\"login\":\"Header_login__1fgBJ\",\"logout\":\"Header_logout__1pGAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBar\":\"FriendsBar_friendsBar__17Tb1\",\"btn\":\"FriendsBar_btn__2amdV\"};"],"sourceRoot":""}